# Working with Browser Storage

In this course, you will learn about:

- Local Storage
- Session
- Cookies
- IndexDB

## Local Storage

Let's start with local storage. Local storage is a great, easy to use key-value storage where we can store basic data.

We can access to the local storage with by just typing `localStorage`. It's part of the `window` object, but as you learned, we can omit this.

We can set a local storage with `setItem()` method, for example:

```js
const userId = "u123";
localStorage.setItem("uid", userId);
```

If you go to the **Application** tab in browser developer tools, you see the key-value data in local storage.

We can also delete (with `delete` or `backspace` key) and edit this data in local storage.

Now we can get an item from the local storage with `getItem()` method, for example:

```js
const storeBtn = document.getElementById("store-btn");
const retrBtn = document.getElementById("retrieve-btn");

const userId = "u123";

storeBtn.addEventListener("click", () => localStorage.setItem("uid", userId));
retrBtn.addEventListener("click", () => {
  const extractedId = localStorage.getItem("uid");

  if (extractedId) {
    console.log(`Got the id - ${extractedId}`);
  } else {
    console.log("Couldn't find id!");
  }
});
```

**Important**: We can't use object directly in local storage. By default, some data convert into the string (like `userId.toString()`); and for **object**, it doesn't give us human readable or machine readable version of the object. Instead, it gives us `[Object, object]`, for example:

```js
const storeBtn = document.getElementById("store-btn");
const retrBtn = document.getElementById("retrieve-btn");

const user = {
  name: "Hamid",
  age: 23,
  hobbies: ["Programming", "Gaming"],
};

storeBtn.addEventListener("click", () => {
  localStorage.setItem("user", user);
});
retrBtn.addEventListener("click", () => {
  localStorage.getItem("user");
});

// output
key: user | value: [object Object]
```

We can convert this to JSON, because JSON actually is a string. **JSON data is string data**. So we can use `JSON.stringify()` and `JSON.parse()` methods:

```js
const storeBtn = document.getElementById("store-btn");
const retrBtn = document.getElementById("retrieve-btn");

const user = {
  name: "Hamid",
  age: 23,
  hobbies: ["Programming", "Gaming"],
};

storeBtn.addEventListener("click", () => {
  localStorage.setItem("user", JSON.stringify(user));
});
retrBtn.addEventListener("click", () => {
  JSON.parse(localStorage.getItem("user"));
});

// output
key: user | value: "{"name":"Hamid","age":23,"hobbies":["Programming","Gaming"]}"
```

## Session

We can use the session for our browser. We can do this easily with `sessionStorage`.

What is session? Session storage data lives as long as our page is open in the browser; so as long as we have it in an active tab even if we reload the page. Thereafter if we close that tab or clase all tabs where our application is running or a close the entire browser, session storage is cleared. Instead, local storage servives this; local storage is never cleared unless the user clears it manually or the browser clears it (because it's running out of space or anything like that). For example:

```js
const storeBtn = document.getElementById("store-btn");
const retrBtn = document.getElementById("retrieve-btn");

const user = {
  name: "Hamid",
  age: 23,
  hobbies: ["Programming", "Gaming"],
};

storeBtn.addEventListener("click", () => {
  sessionStorage.setItem("user", JSON.stringify(user));
});
retrBtn.addEventListener("click", () => {
  JSON.parse(sessionStorage.getItem("user"));
});
```

## Cookies

Unlike local storage and session storage, cookies only are available if our web page is geting served with a real server.
