# More about Functions

In this course, you learn about:

- Pure Functions & Side Effects
- Factory Functions
- Closures & Scope Revisited
- Recursion

## Pure and Impure Functions

A pure function is a function which for some given input. For some given arguments, always produces the same output (if we reload the page) and it also does not trigger any side effects; which means it does not change anything outside of the function. For example:

```js
function add(num1, num2) {
  return num1 + num2;
}

console.log(add(15, 8)); // 23
```

This is a perfect example for a pure function. It does not change anything outside of function and it always produces the same result for the same outputs.

We also have a impure function that if we call this function, we get the different results there every time we reload the page. For example:

```js
function add(num) {
  return num + Math.random();
}

console.log(add(23)); // 23.????????
```

## Side Effeccts

Let's declare a variable and create a function:

```js
let previousResult = 0

function add(num1, num2) {
  const sum = num1 + num2;
  previousResult = sum;
  return sum;
}
```

This function here would not be pure, because the side effect is `previousResult = sum`. We change a variable that is defined outside of the function (i.e. this function changes something).

Another example for a function with a side effect would be a function that changes an object or an array (change the address) that we pass into it. For example:

```js
const hobbies = ["programming", "gaming"];

function printHobbies(hob) {
  hob.push("Reading");

  console.log(hob);
}

printHobbies(hobbies); // [ 'programming', 'gaming', 'Reading' ]
```

**Note**: You should aim for more pure functions and less impure functions that might introduce side effects.

## Factory Functions

Factory function is a function that produces another function. Consider:

```js
function createTaxCalculator(amount, tax) {
  return amount * tax;
}

console.log(createTaxCalculator(100, 0.19)); // 19
```

We can have function in functions, fo example:

```js
function createTaxCalculator(tax) {
  function calculateTax(amount) {
    return amount * tax;
  }
  return calculateTax;
}

const vatAmount = createTaxCalculator(0.19);
const incomeTax = createTaxCalculator(0.25);

console.log(vatAmount(100)); // 19
console.log(incomeTax(200)); // 50
```

## Closures

Every function in **JavaScript** is a closure. If we create a variable in function (or get a parameter), it's only usable inside of that function, but not outside of it. On the other hand, global variables or constants which are created outside of functions can be used inside of the function. That's something you already knew.
